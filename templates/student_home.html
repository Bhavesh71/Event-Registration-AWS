<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>VIT Chennai Events</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/adminhome.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/student_home.css') }}">
    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}"> -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
</head>

<body>
    <!-- Header Section -->
    <header class="header-container">
        <div id="logo">
            <img src="{{ url_for('static', filename='images/logo.png') }}" alt="VIT Logo">
        </div>
        <div class="title">VIT EVENT REGISTRATION</div>
        <div class="user-actions">
            <div class="dropdown">
                <button class="dropdown-toggle">
                    <span>{{ name }}</span>
                    <img src="{{ url_for('static', filename='images/profile-icon.png') }}" alt="Profile"
                        class="profile-icon">
                    <!-- <span>{{ username }}</span> -->
                </button>
                <div class="dropdown-content">
                    <a href="{{ url_for('profile') }}">Profile</a>
                    <a href="{{ url_for('logout') }}">Logout</a>
                </div>
            </div>
        </div>

    </header>

    <!-- Navigation Bar -->
    <nav class="navbar-container">
        <ul>
            <li><a class="active" href="/">Home</a></li>
            <!-- Clubs Dropdown Menu in Navbar -->
            <li class="clubs-dropdown">
                <button class="dropbtn">Clubs</button>
                <div class="clubs-dropdown-content">
                    <!-- Search box for clubs -->
                    <input type="text" id="clubSearchInput" onkeyup="filterClubs()" placeholder="Search for clubs..">

                    <!-- 'All' option to display all clubs' events -->
                    <a href="#" onclick="filterEvents('all')">All</a>

                    <!-- Dynamic list of clubs -->
                    {% for item in clubs_with_events %}
                    <a href="#" onclick="filterEvents('{{ item.club.name }}')">{{ item.club.name }}</a>
                    {% endfor %}
                </div>
            </li>

        </ul>
    </nav>

    <!-- Banner Section -->
    <section class="banner-container">
        <div id="banner">
            <div class="background"></div>
            <div class="banner-content">
                <h1>Welcome to VIT Chennai Events</h1>
                <!-- <h1>Your Gateway to Engaging Events</h1>
                <span>Explore and register for exciting events at VIT Chennai.<br>Join us in creating memorable
                    experiences and expanding your horizons.</span> -->
                <a href="/registered_events"><button>Registered Events</button></a>

            </div>
            <div id="carousel">
                <div class="img-box">
                    <img class="cimg" id="cimg0" src="./static/images/vit-new-logo-24-.png" style="display: none;">
                    <img class="cimg" id="cimg1" src="./static/images/vitgate.png" style="display: none;">
                    <img class="cimg" id="cimg2" src="./static/images/vitab1.png" style="display: none;">
                    <img class="cimg" id="cimg3" src="./static/images/cse.png" style="display: none;">
                    <img class="cimg" id="cimg4" src="./static/images/mech.png" style="display: none;">
                    <img class="cimg" id="cimg5" src="./static/images/eee.png" style="display: none;">
                    <img class="cimg" id="cimg6" src="./static/images/ece.png" style="display: none;">
                    <img class="cimg" id="cimg7" src="./static/images/fit.png" style="display: none;">
                    <img class="cimg" id="cimg8" src="./static/images/civil.png" style="display: none;">
                    <img class="cimg" id="cimg9" src="./static/images/mgmnt.png" style="display: block;">
                </div>
                <div class="text-box">
                    <p class="ctext" id="ctext0" style="display: none;">Welcome to VIT Chennai Events</p>
                    <p class="ctext" id="ctext1" style="display: none;">A place to Learn</p>
                    <p class="ctext" id="ctext2" style="display: none;">A chance to Grow</p>
                    <p class="ctext" id="ctext3" style="display: none;">Securing the world – bit by bit</p>
                    <p class="ctext" id="ctext4" style="display: none;">Think big. We do.</p>
                    <p class="ctext" id="ctext5" style="display: none;">Resourceful. Naturally.</p>
                    <p class="ctext" id="ctext6" style="display: none;">Seeing what doesn’t exist yet. That’s our
                        strength.</p>
                    <p class="ctext" id="ctext7" style="display: none;">Draw on Passion</p>
                    <p class="ctext" id="ctext8" style="display: none;">If God Didn’t Build It, An Engineer Did!</p>
                    <p class="ctext" id="ctext9" style="display: block;">Simply certified</p>
                </div>
                <div class="indicators" unselectable="on" onselectstart="return false;" onmousedown="return false;">
                    <a class="dot on" data-index="0"></a>
                    <a class="dot" data-index="1"></a>
                    <a class="dot" data-index="2"></a>
                    <a class="dot" data-index="3"></a>
                    <a class="dot" data-index="4"></a>
                    <a class="dot" data-index="5"></a>
                    <a class="dot" data-index="6"></a>
                    <a class="dot" data-index="7"></a>
                    <a class="dot" data-index="8"></a>
                    <a class="dot" data-index="9"></a>
                </div>
            </div>
        </div>
    </section>
    <div class="container">
        <h1>Welcome, {{ name }}</h1>
        <h2>Available Events</h2>
        {% for item in clubs_with_events %}
        <div class="club-section">
            <h3>{{ item.club.name }}</h3>
            <div class="events-container">
                {% for event in item.events %}
                <div class="event-card" onclick="openModal('modal-{{ event.id }}')">
                    <img src="{{ event.poster }}" alt="Event Poster" class="event-poster">
                    <h4>{{ event.name }}</h4>
                    <p><i class="fas fa-calendar-alt"></i> {{ event.date }}</p>
                    <p><i class="fas fa-clock"></i> {{ event.time }}</p>
                    <p><i class="fas fa-map-marker-alt"></i> {{ event.venue }}</p>
                    <p><i class="fas fa-users"></i> Max: {{ event.num_people }}</p>
                    <p><i class="fas fa-tag"></i> Price: {{ event.price }}</p>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endfor %}

        <!-- Modal -->
        {% for item in clubs_with_events %}
        {% for event in item.events %}
        <div class="modal" id="modal-{{ event.id }}">
            <div class="modal-content">
                <span class="close" onclick="closeModal('modal-{{ event.id }}')">&times;</span>

                <!-- Poster Section -->
                <div class="modal-poster">
                    <img src="{{ event.poster }}" alt="Event Poster" class="event-poster">
                </div>

                <!-- Event Details Section -->
                <div class="modal-details">
                    <h2>{{ event.name }}</h2>
                    <p><strong>Description:</strong> {{ event.description }}</p>
                    <p><i class="fas fa-calendar-alt"></i> Date: {{ event.date }}</p>
                    <p><i class="fas fa-clock"></i> Time: {{ event.time }}</p>
                    <p><i class="fas fa-map-marker-alt"></i> Venue: {{ event.venue }}</p>
                    <p><i class="fas fa-users"></i> Max People: {{ event.num_people }}</p>
                    <p><i class="fas fa-tag"></i> Price: {{ event.price }}</p>
                </div>

                <!-- Register and Cancel Buttons -->
                <div class="modal-buttons">
                    <form method="POST" action="{{ url_for('register_event') }}">
                        <input type="hidden" name="event_id" value="{{ event.id }}">
                        <input type="hidden" name="username" value="{{ username }}">
                        <button type="submit" class="register-btn">Register</button>
                        <button type="button" class="cancel-btn"
                            onclick="closeModal('modal-{{ event.id }}')">Cancel</button>
                    </form>
                </div>

            </div>
        </div>
        {% endfor %}
        {% endfor %}

    </div>


    <script src="{{ url_for('static', filename='js/student_home.js') }}"></script>
    <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
    <script src="{{ url_for('static', filename='js/adminhome.js') }}"></script>
</body>

</html>